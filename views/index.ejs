<!-- index.ejs -->

<!DOCTYPE html>
<html>
<head>
  <title>File Upload Site</title>
</head>
<body>
  <h1>File Upload Site</h1>

  <form method="POST" action="/upload" enctype="multipart/form-data">
    <label for="file">Select a file to upload:</label>
    <input type="file" id="file" name="file" required>
    <button type="submit">Upload</button>
  </form>
  
  <% if (message) { %>
    <p><%= message %></p>
  <% } %>

  <hr>

  <h2>Uploaded Files</h2>
  <% if (files.length === 0) { %>
    <p>No files uploaded yet.</p>
  <% } else { %>
    <ul>
      <% files.forEach(function(file) { %>
        <li><a href="/file?filename=<%= file.filename %>"><%= file.originalname %></a></li>
      <% }); %>
    </ul>
  <% } %>
</body>
</html>
